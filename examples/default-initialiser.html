<!DOCTYPE html>
<html lang="en">
<head>
<title>MutationInitialiser</title>
<script src="../index.js" type="module"></script>
<style>
.green {
    color: green;
}
</style>
<script type="module">
import { defaultInitialiser } from '../index.js';

const options = { subtree: true };
const initialise = defaultInitialiser(document, options);

initialise('li', (node) => {
    node.classList.add('green');
});

let i = 0;
let interval = setInterval(() => {
    let li = document.createElement('li');
    li.textContent = 'Black ' + (i+1);
    document.getElementById('list').appendChild(li);

    if (++i >= 10) clearInterval(interval);
}, 1000);

</script>
</head>
<body>

<p>Default Initialiser</p>

<p>Options: <code><script>document.write(JSON.stringify({ subtree: true }))</script></code>.</p>
<p>Default example. Only one element is initialised, and only until the DOM has finished loading.
This is the most restrictive option-set.</p>

<ul id="list">
    <li>Green</li>
    <li>Black</li>
</ul>

</body>
</html>
