<!DOCTYPE html>
<html lang="en">
<head>
<title>MutationInitialiser</title>
<script src="../index.js"></script>
<style>
.red {
    color: red;
}
</style>
<script>

new MutationInitaliser('li', (node) => {
    node.classList.add('red');
}, { loader: true }).observe();

let i = 0;
let interval = setInterval(() => {
    let li = document.createElement('li');
    li.textContent = 'Black ' + (i+1);
    document.getElementById('list').appendChild(li);

    if (++i >= 10) clearInterval(interval);
}, 1000);

</script>
</head>
<body>

<p><code>loader</code> option.</p>
<p>Disconnect observer after DOM loaded.</p>
<p>Behaves like a loader. Only initialises elements while the DOM is loading.</p>
<p>Checks <a href="https://developer.mozilla.org/en-US/docs/Web/API/Document/readyState"><code>readyState</code></a>
    and the <a href="https://developer.mozilla.org/en-US/docs/Web/API/Window/DOMContentLoaded_event"><code>DOMContentLoaded</code> event</a>.</p>

<ul id="list">
    <li>Red (loaded with page.)</li>
</ul>

</body>
</html>
